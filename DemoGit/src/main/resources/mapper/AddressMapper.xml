<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.demo.model.mdao.AddressMapper">
  <resultMap id="BaseResultMap" type="com.demo.pojo.Address">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="adid" jdbcType="INTEGER" property="adid" />
    <result column="adprovince" jdbcType="VARCHAR" property="adprovince" />
    <result column="adcity" jdbcType="VARCHAR" property="adcity" />
    <result column="adarea" jdbcType="VARCHAR" property="adarea" />
    <result column="addetailed" jdbcType="VARCHAR" property="addetailed" />
    <result column="adisdelete" jdbcType="VARCHAR" property="adisdelete" />
    <result column="adisdefault" jdbcType="VARCHAR" property="adisdefault" />
  </resultMap>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from address
    where adid = #{adid,jdbcType=INTEGER}
  </delete>
  <insert id="insert" parameterType="com.demo.pojo.Address">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into address (adid, cid3, adprovince, 
      adcity, adarea, addetailed, 
      adisdelete, adisdefault)
    values (#{adid,jdbcType=INTEGER}, #{cid3,jdbcType=INTEGER}, #{adprovince,jdbcType=VARCHAR}, 
      #{adcity,jdbcType=VARCHAR}, #{adarea,jdbcType=VARCHAR}, #{addetailed,jdbcType=VARCHAR}, 
      #{adisdelete,jdbcType=VARCHAR}, #{adisdefault,jdbcType=VARCHAR})
  </insert>
  <update id="updateByPrimaryKey" parameterType="com.demo.pojo.Address">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update address
    set cid3 = #{cid3,jdbcType=INTEGER},
      adprovince = #{adprovince,jdbcType=VARCHAR},
      adcity = #{adcity,jdbcType=VARCHAR},
      adarea = #{adarea,jdbcType=VARCHAR},
      addetailed = #{addetailed,jdbcType=VARCHAR},
      adisdelete = #{adisdelete,jdbcType=VARCHAR},
      adisdefault = #{adisdefault,jdbcType=VARCHAR}
    where adid = #{adid,jdbcType=INTEGER}
  </update>
  <select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select adid, cid3, adprovince, adcity, adarea, addetailed, adisdelete, adisdefault
    from address
    where adid = #{adid,jdbcType=INTEGER}
  </select>
  <select id="selectAll" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select adid, cid3, adprovince, adcity, adarea, addetailed, adisdelete, adisdefault
    from address
  </select>

  <!--根据客户id查询收货地址-->
  <select id="selectByCidAll" resultMap="BaseResultMap">
    select adid,adprovince,adcity,adarea,addetailed,adisdelete,adisdefault
    from address where cid3 = #{cid} order by adid desc
  </select>

  <!--设置默认地址-->
  <update id="updateAdisdefault" parameterType="com.demo.pojo.Address">
    update address set adisdefault = '是' where adid = #{adid}
  </update>
  <update id="updateAdisdefault1" parameterType="com.demo.pojo.Address">
    update address set adisdefault = '否' where adisdefault = '是' and cid3 = #{cid}
  </update>

  <!--修改收货地址信息-->
  <update id="updateAddress" parameterType="com.demo.pojo.Address">
    update address set adprovince = #{adprovince},adcity = #{adcity},
    adarea = #{adarea},addetailed = #{addetailed} where adid = #{adid}
  </update>

  <!--删除收货地址（逻辑删除）-->
  <update id="updateAdisdelete" parameterType="com.demo.pojo.Address">
    update address set adisdelete = '是' where adid = #{adid}
  </update>

</mapper>