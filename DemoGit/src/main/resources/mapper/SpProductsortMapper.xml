<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.demo.model.mdao.SpProductsortMapper">

  <resultMap id="BaseResultMap" type="com.demo.pojo.SpProductsort">
    <id column="cid2" jdbcType="INTEGER" property="cid2" />
    <result column="cname" jdbcType="VARCHAR" property="cname" />
    <result column="cfid" jdbcType="INTEGER" property="cfid" />
    <collection property="sorts" column="cid2" select="selectByid">
      <id column="cid2" jdbcType="INTEGER" property="cid2" />
      <result column="cname" jdbcType="VARCHAR" property="cname" />
      <result column="cfid" jdbcType="INTEGER" property="cfid" />
    </collection>
  </resultMap>
  
  <select id="selectFu" resultMap="BaseResultMap">
        select * from sp_productsort where cfid=0
  </select>

  <select id="selectByid" resultMap="BaseResultMap">
        select * from sp_productsort where cfid=#{id}
  </select>

  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from sp_productsort
    where cid2 = #{cid2,jdbcType=INTEGER}
  </delete>

  <insert id="insert" parameterType="com.demo.pojo.SpProductsort">
    insert into sp_productsort(cid2,cname,cfid) values (null,#{r.cname},#{r.cfid})
  </insert>

  <update id="updateByPrimaryKey" parameterType="com.demo.pojo.SpProductsort">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update sp_productsort
    set cname = #{cname,jdbcType=VARCHAR},
      cfid = #{cfid,jdbcType=INTEGER}
    where cid2 = #{cid2,jdbcType=INTEGER}
  </update>
  <select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select cid2, cname, cfid
    from sp_productsort
    where cid2 = #{cid2,jdbcType=INTEGER}
  </select>
  <select id="selectAll" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select cid2, cname, cfid
    from sp_productsort
  </select>
</mapper>